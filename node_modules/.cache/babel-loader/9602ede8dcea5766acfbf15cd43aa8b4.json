{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/yarlo/Documentos/APP/quiz-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{auth,currentUserProfile}from'../../firebase/firebase.utilis';import{connect}from'react-redux';import{selectCurrentUser}from'../../redux/user/user.selector';import{Redirect}from'react-router';function Copyright(){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\",children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://material-ui.com/\",children:\"Your Website\"}),' ',new Date().getFullYear(),'.']});}var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3)},submit:{margin:theme.spacing(3,0,2)}};});var SignUp=function SignUp(_ref){var user=_ref.user;var _useState=useState({firstName:'',lastName:'',email:'',password:'',confirmedPassword:'',grade:'',group:''}),_useState2=_slicedToArray(_useState,2),userCredentials=_useState2[0],setUserCredentials=_useState2[1];var firstName=userCredentials.firstName,lastName=userCredentials.lastName,email=userCredentials.email,password=userCredentials.password,confirmedPassword=userCredentials.confirmedPassword,grade=userCredentials.grade,group=userCredentials.group;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signUp=_useState4[0],setsignUp=_useState4[1];var classes=useStyles();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserCredentials(_objectSpread(_objectSpread({},userCredentials),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$auth$createUse,_user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(password!==confirmedPassword)){_context.next=4;break;}alert(\"passwords don't match\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return auth.createUserWithEmailAndPassword(email,password);case 7:_yield$auth$createUse=_context.sent;_user=_yield$auth$createUse.user;_context.next=11;return currentUserProfile(_user,{firstName:firstName,lastName:lastName,grade:grade,group:group});case 11:setUserCredentials({firstName:'',lastName:'',email:'',password:'',confirmedPassword:'',grade:'',group:''});_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);setsignUp(false);console.error(_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();if(user){console.log(user);return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{name:\"firstName\",autoComplete:\"fname\",variant:\"outlined\",required:true,fullWidth:true,id:\"firstName\",label:\"First Name\",autoFocus:true,value:firstName,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{name:\"lastName\",variant:\"outlined\",required:true,fullWidth:true,id:\"lastName\",label:\"Last Name\",autoComplete:\"lname\",value:lastName,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"email\",variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",autoComplete:\"email\",value:email,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"password\",variant:\"outlined\",required:true,fullWidth:true,label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"confirmedPassword\",variant:\"outlined\",required:true,fullWidth:true,label:\"confirmed Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:confirmedPassword,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"grade\",variant:\"outlined\",required:true,fullWidth:true,id:\"grade\",label:\"Grade\",autoFocus:true,value:grade,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{name:\"group\",variant:\"outlined\",required:true,fullWidth:true,id:\"grade\",label:\"Group\",autoFocus:true,value:group,onChange:handleChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{value:\"allowExtraEmails\",color:\"primary\"}),label:\"I want to receive inspiration, marketing promotions and updates via email.\"})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:function onClick(){return setsignUp(true);},children:signUp?'creating account...':'sign up'}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"#\",variant:\"body2\",children:\"Already have an account? Sign in\"})})})]})]}),/*#__PURE__*/_jsx(Box,{mt:5,children:/*#__PURE__*/_jsx(Copyright,{})})]})});};var mapStateToProps=function mapStateToProps(state){return{user:selectCurrentUser(state)};};export default connect(mapStateToProps)(SignUp);","map":{"version":3,"sources":["/home/yarlo/Documentos/APP/quiz-final/src/pages/signup/signUp.component.jsx"],"names":["React","useState","useEffect","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","makeStyles","Container","auth","currentUserProfile","connect","selectCurrentUser","Redirect","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignUp","user","firstName","lastName","email","password","confirmedPassword","grade","group","userCredentials","setUserCredentials","signUp","setsignUp","classes","handleChange","e","target","name","value","handleSubmit","preventDefault","alert","createUserWithEmailAndPassword","console","error","log","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { auth, currentUserProfile } from '../../firebase/firebase.utilis';\nimport { connect } from 'react-redux'\nimport { selectCurrentUser } from '../../redux/user/user.selector';\nimport { Redirect } from 'react-router';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                Your Website\n      </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nconst SignUp = ({ user }) => {\n    const [userCredentials, setUserCredentials] = useState({ firstName: '', lastName: '', email: '', password: '', confirmedPassword: '', grade: '', group: '' });\n    const { firstName, lastName, email, password, confirmedPassword, grade, group } = userCredentials;\n    const [signUp, setsignUp] = useState(false);\n    const classes = useStyles();\n\n\n    const handleChange = e => {\n        const { name, value } = e.target;\n        setUserCredentials({ ...userCredentials, [name]: value })\n    }\n    const handleSubmit = async e => {\n        e.preventDefault();\n        if (password !== confirmedPassword) {\n            alert(\"passwords don't match\");\n            return;\n        }\n        try {\n            const { user } = await auth.createUserWithEmailAndPassword(\n                email,\n                password\n            );\n            await currentUserProfile(user, { firstName, lastName, grade, group });\n\n            setUserCredentials({\n                firstName: '',\n                lastName: '',\n                email: '',\n                password: '',\n                confirmedPassword: '',\n                grade: '',\n                group: ''\n            });\n        } catch (error) {\n            setsignUp(false)\n            console.error(error);\n        }\n\n    }\n    if (user) {\n        console.log(user)\n        return <Redirect to='/' />\n    }\n\n\n    return (\n        <>\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline />\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}>\n                        <LockOutlinedIcon />\n                    </Avatar>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Sign up\n        </Typography>\n                    <form className={classes.form} noValidate onSubmit={handleSubmit}>\n                        <Grid container spacing={2}>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    name='firstName'\n                                    autoComplete=\"fname\"\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"firstName\"\n                                    label=\"First Name\"\n                                    autoFocus\n                                    value={firstName}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    name='lastName'\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"lastName\"\n                                    label=\"Last Name\"\n                                    autoComplete=\"lname\"\n                                    value={lastName}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    name='email'\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"email\"\n                                    label=\"Email Address\"\n                                    autoComplete=\"email\"\n                                    value={email}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    name='password'\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                    autoComplete=\"current-password\"\n                                    value={password}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    name='confirmedPassword'\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    label=\"confirmed Password\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                    autoComplete=\"current-password\"\n                                    value={confirmedPassword}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    name='grade'\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"grade\"\n                                    label=\"Grade\"\n                                    autoFocus\n                                    value={grade}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    name='group'\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"grade\"\n                                    label=\"Group\"\n                                    autoFocus\n                                    value={group}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <FormControlLabel\n                                    control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                                    label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n                                />\n                            </Grid>\n                        </Grid>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                            onClick={() => setsignUp(true)}\n                        >\n                            {signUp ? 'creating account...' : 'sign up'}\n                        </Button>\n                        <Grid container justify=\"flex-end\">\n                            <Grid item>\n                                <Link href=\"#\" variant=\"body2\">\n                                    Already have an account? Sign in\n              </Link>\n                            </Grid>\n                        </Grid>\n                    </form>\n                </div>\n                <Box mt={5}>\n                    <Copyright />\n                </Box>\n            </Container >\n        </>\n    );\n}\n\nconst mapStateToProps = state => ({\n    user: selectCurrentUser(state)\n})\n\nexport default connect(mapStateToProps)(SignUp);"]},"metadata":{},"sourceType":"module"}